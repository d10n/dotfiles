#!/bin/bash
# Execute this script, or run individual lines you want. Don't symlink this to ~/.gitconfig.
set -x

# NeoBundle makes vim bork out when run as vi (which is git default)
#git config --global core.editor $(which vim)

# Find the branching point http://stackoverflow.com/a/4991675
git config --global alias.oldest-ancestor '!''bash -c '\''diff --old-line-format= --new-line-format= <(git rev-list --first-parent "${1:-master}") <(git rev-list --first-parent "${2:-HEAD}") | head -1'\'' -'

# Pretty log graph
git config --global alias.prettyLogGraph "log --graph --all --format=format:'%C(auto)%h - (%cr) %d %s %C(yellow)%cn%C(reset)' --abbrev-commit --date=relative"

# Sort branch by date
git config --global alias.bs $'for-each-ref --sort=committerdate refs/heads/ --format="%(committerdate:relative)\t%(refname:short) %(color:red)%(subject) %(color:blue)%(authorname)"'

# Short log
git config --global alias.l '!'"git --no-pager log --graph --format='%C(auto)%h%C(reset) - %cr %d %C(red)%s%C(reset) %C(blue)%cn%C(reset)' -5"

# Short status
git config --global alias.s "status -s"

# More readable diff
git config --global alias.d "diff --patience"

# Diff staged
git config --global alias.ds "diff --patience --staged"

# Show branches
git config --global alias.b "branch"

# Add color to git output
git config --global color.ui auto

# Push only the current branch
git config --global push.default current

# easy git instaweb
git config --global instaweb.local true
git config --global instaweb.httpd webrick

